## 컨테이너 에이전트란?
- 컨테이너 인스턴스와 클러스터를 연결하는 역할을 한다.
- 컨테이너 인스턴스란? EC2의 기능을 제공하는 AWS상의 서버를 의미하며 ECS의 구성에 맞는 논리대로 EC2를 제공하고 다룰 수 있도록 하는 것이 컨테이너 인스턴스이다.
- 클러스터란? 클러스터는 EC2가 제공하는 서버 리소스 기반 위에 소프트웨어를 설치 및 관리하기 위한 작업 또는 서비스 그룹을 의미한다.
- 인스턴스 위에서 가동되는 소프트웨어를 실행시키기 위한 작업 또는 서비스의 논리적 그룹을 연결하는 역할을 하는 것이 컨테이너 에이전트의 역할이다.

## 인스턴스 위의 컨테이너가 가끔 재시작 또는 중지되는 경우
- Reference : https://aws.amazon.com/premiumsupport/knowledge-center/ecs-agent-disconnected-linux2-ami/?nc1=h_ls
- 컨테이너 에이전트는 한 시간에 여러 번 통신이 연결을 끊었다가 다시 연결된다. 컨테이너 에이전트가 더 오랜 시간 동안 연결 해제된 상태가 지속되면 컨테이너 인스턴스가 ECS 클러스터를 통해서 작동되지 않는 문제가 발생할 수 있다.
- 연결이 끊어졌다가 다시 연결되는 경우 ECS에서 확인 가능한 이벤트가 기록된다.
- 컨테이너 에이전트의 연결이 장기간 끊어지는 원인 : 네트워크 문제가 발생해서 인스턴스와 ECS의 통신에 장애가 있는 경우, IAM 권한이 없는 경우, 컨테이너 인스턴스 내부의 호스트 또는 Docker 데몬에 문제, 기본 호스트에 리소스 경합이 있는 경우

## Reference
- https://docs.aws.amazon.com/AmazonECS/latest/developerguide/ECS_agent.html
